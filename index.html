<!DOCTYPE html>
<html lang="zh-hans">
<head>
    <meta charset="UTF-8">
    <title>lxiaox导航</title>
    <link rel="stylesheet" href=".//style.css">
</head>
<body>
    <header></header>
    <main>
        <div class="wrapper" id="mainX"></div>
    </main>
    <footer></footer>

    <script>
        keys={
            0:{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
            1:{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
            2:{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
            length:3
        };
        hash={q:'QQ.com',z:'zhihu.com',w:'weibo.com'
        };
        //取出localstorage中的zzz对应的hash
        hashInLocalStorage = JSON.parse(localStorage.getItem('zzz')||'null');
        if(hashInLocalStorage){
            hash = hashInLocalStorage
        }
        //生成三行div及div中的kbd
        index1 = 0;
        while(index1 < keys['length']){
            //创建div
            divX = document.createElement('div');
            mainX.appendChild(divX);
            row = keys[index1];
            index2 = 0;
            while(index2 < row['length']){
                //在每个div中创建kbd
                kbd = document.createElement('kbd');
                kbd.textContent = row[index2];
                divX.appendChild(kbd);

                //创建kbd中的编辑按钮
                buttonX = document.createElement('button');
                buttonX.textContent = '编辑';
                buttonX.id = row[index2];    //将按钮与字母联系起来
                //增加每个按钮的点击事件
                buttonX.onclick = function(xyz){
                    key = xyz['target']['id'];//xyz.target是被点击元素
                    x = prompt('请输入网址：');
                    hash[key] = x;
                    localStorage.setItem('zzz',JSON.stringify(hash));
                    console.log(hash)
                };
                kbd.appendChild(buttonX);
                divX.appendChild(kbd);
                index2 = index2+1
            }
            index1 = index1+1
        }
        //document中的按键事件
        document.onkeypress = function(xyz){
            key = xyz['key'];//按键信息
            website = hash[key];
            window.open("https://"+website,'_blank')
            //location.href="https://"+website
        }
    </script>

</body>
</html>